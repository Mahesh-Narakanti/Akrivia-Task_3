<!-- Modal for File Details -->
<div class="modal" id="fileModal"  tabindex="-1"   (click)="closeModal($event)">
    <div class="modal-content" (click)="stopPropagation($event)">
        <h4>File Details</h4>

        <!-- Table displaying file details -->
        <table class="table">
            <thead>
                <tr>
                    <th>Filename</th>
                    <th>Total Products</th>
                    <th>Accepted Products</th>
                    <th>Rejected Products</th>
                    <th>Status</th>
                    <th>Reject URL</th>
                    <th>Preview</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let file of filesData">
                    <td>{{ file.filename }}</td>
                    <td>{{ file.totalProducts }}</td>
                    <td>{{ file.acceptedProducts }}</td>
                    <td>{{ file.rejectedProducts }}</td>
                    <td>{{ file.status }}</td>
                    <td><a [href]="file.rejectUrl" target="_blank">View Reject URL</a></td>
                    <td><button (click)="openPreview(file.previewUrl)">Preview</button></td>
                </tr>
            </tbody>
        </table>

        <button class="close-btn" (click)="closeModal()">Close</button>
    </div>
</div>

<!-- Preview Modal -->
<div class="preview-modal" [ngClass]="{ 'show': previewOpen }" (click)="closePreview()">
    <div class="preview-modal-content" (click)="stopPropagation($event)">
        <h4>Preview File</h4>
        <iframe *ngIf="previewUrl" [src]="previewUrl" width="100%" height="400px"></iframe>
        <button class="close-btn" (click)="closePreview()">Close Preview</button>
    </div>
</div>